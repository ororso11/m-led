<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INTECH LIGHTING - LED ì¡°ëª… ì œí’ˆ</title>
    <link rel="stylesheet" href="css/style.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
</head>
<body>
    <!-- ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ -->
    <div id="listPage">
        <div style="background: linear-gradient(to right, #1a1a1a 0%, #2c2c2c 100%);">
            <!-- ì›¹ìš© í—¤ë” (768px ì´ìƒì—ì„œë§Œ í‘œì‹œ) -->
            <div class="header-wrapper">
                <header>
                    <button class="mobile-menu-btn" onclick="toggleSidebar()">â˜°</button>
                    <div class="logo">INTECH LIGHTING</div>
                    <nav>
                        <a href="index.html">ì¹´íƒˆë¡œê·¸</a>
                        <a href="project.html">í”„ë¡œì íŠ¸</a>
                        <a href="inquiry.html">ë¬¸ì˜</a>
                    </nav>
                    <div class="search-box">
                        <input type="text" placeholder="search">
                        <span>ğŸ”</span>
                    </div>
                </header>
            </div>
        </div>

        <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

        <div class="container">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <h3>ì œí’ˆ</h3>
                
                <div class="filter-group">
                    <h4 onclick="toggleFilterGroup(this)">WATT</h4>
                    <div class="filter-group-content">
                        <label><input type="checkbox" data-filter="watt" value="0-5W"> 0-5W</label>
                        <label><input type="checkbox" data-filter="watt" value="6-10W"> 6-10W</label>
                        <label><input type="checkbox" data-filter="watt" value="11-15W"> 11-15W</label>
                        <label><input type="checkbox" data-filter="watt" value="16-20W"> 16-20W</label>
                        <label><input type="checkbox" data-filter="watt" value="21-25W"> 21-25W</label>
                        <label><input type="checkbox" data-filter="watt" value="26-30W"> 26-30W</label>
                        <label><input type="checkbox" data-filter="watt" value="30W+"> 30W+</label>
                    </div>
                </div>

                <div class="filter-group">
                    <h4 onclick="toggleFilterGroup(this)">CCT</h4>
                    <div class="filter-group-content">
                        <label><input type="checkbox" data-filter="cct" value="2400K"> 2400K</label>
                        <label><input type="checkbox" data-filter="cct" value="2700K"> 2700K</label>
                        <label><input type="checkbox" data-filter="cct" value="3000K"> 3000K</label>
                        <label><input type="checkbox" data-filter="cct" value="3500K"> 3500K</label>
                        <label><input type="checkbox" data-filter="cct" value="4000K"> 4000K</label>
                        <label><input type="checkbox" data-filter="cct" value="5700K"> 5700K</label>
                        <label><input type="checkbox" data-filter="cct" value="6000K"> 6000K</label>
                        <label><input type="checkbox" data-filter="cct" value="6500K"> 6500K</label>
                        <label><input type="checkbox" data-filter="cct" value="TW"> TW</label>
                        <label><input type="checkbox" data-filter="cct" value="RGB"> RGB</label>
                        <label><input type="checkbox" data-filter="cct" value="RGBW"> RGBW</label>
                    </div>
                </div>

                <div class="filter-group">
                    <h4 onclick="toggleFilterGroup(this)">IP</h4>
                    <div class="filter-group-content">
                        <label><input type="checkbox" data-filter="ip" value="IP20"> IP20</label>
                        <label><input type="checkbox" data-filter="ip" value="IP44"> IP44</label>
                        <label><input type="checkbox" data-filter="ip" value="IP54"> IP54</label>
                        <label><input type="checkbox" data-filter="ip" value="IP65"> IP65</label>
                        <label><input type="checkbox" data-filter="ip" value="IP66"> IP66</label>
                        <label><input type="checkbox" data-filter="ip" value="IP67"> IP67</label>
                        <label><input type="checkbox" data-filter="ip" value="IP68"> IP68</label>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <div class="breadcrumb">Home > ì œí’ˆ</div>
                <h1 class="page-title">ì œí’ˆ</h1>

                <div class="product-grid" id="productGrid">
                    <!-- ì œí’ˆë“¤ì´ JavaScriptë¡œ ìë™ ìƒì„±ë©ë‹ˆë‹¤ -->
                    <div style="text-align: center; padding: 50px; color: #999;">
                        ì œí’ˆ ë°ì´í„°ë¥¼ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤...
                    </div>
                </div>
            </main>
        </div>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3>CONTACT</h3>
                    <p>TEL â€¢ 02-747-3700~1</p>
                    <p>FAX â€¢ 02-747-3702</p>
                    <p>EMAIL â€¢ info@intechlighting.com</p>
                </div>

                <div class="footer-section">
                    <h3>COMPANY</h3>
                    <p>(ì£¼)ì¸í…Œí¬ë¼ì´íŒ…</p>
                    <p>ê²½ê¸° ì‹œí¥ì‹œ íš¨í˜„ë¡œ (ê²½ê¸° ì‹œí¥ì‹œ ëŒ€ì•¼ë™)</p>
                    <p>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ 799-81-00657</p>
                </div>

                <div class="footer-section">
                    <h3>BUSINESS HOURS</h3>
                    <p>í‰ì¼ 09:00 ~ 18:00</p>
                    <p>í† ìš”ì¼ 09:00 ~ 15:00</p>
                    <p>ì ì‹¬ì‹œê°„ 12:00 ~ 13:00</p>
                    <p>ê³µíœ´ì¼ íœ´ë¬´</p>
                </div>

                <div class="copyright">
                    COPYRIGHT Â© 2025 INTECH LIGHTING.<br>
                    ALL RIGHTS RESERVED.
                </div>
            </div>
        </footer>
    </div>

    <!-- ìƒì„¸ í˜ì´ì§€ -->
    <div id="detailPage" class="detail-page">
        <div class="detail-header">
            <button class="back-btn" onclick="goBack()">âœ•</button>
            <div class="detail-logo">INTECH LIGHTING<br><small style="font-size: 10px; letter-spacing: 2px;">SINCE 2025</small></div>
        </div>

        <div class="detail-content" id="detailContent">
            <!-- ìƒì„¸ ë‚´ìš©ì´ JavaScriptë¡œ ìë™ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3>CONTACT</h3>
                    <p>TEL â€¢ 02-747-3700~1</p>
                    <p>FAX â€¢ 02-747-3702</p>
                    <p>EMAIL â€¢ info@intechlighting.com</p>
                </div>

                <div class="footer-section">
                    <h3>COMPANY</h3>
                    <p>(ì£¼)ì¸í…Œí¬ë¼ì´íŒ…</p>
                    <p>ê²½ê¸° ì‹œí¥ì‹œ íš¨í˜„ë¡œ (ê²½ê¸° ì‹œí¥ì‹œ ëŒ€ì•¼ë™)</p>
                    <p>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ 799-81-00657</p>
                </div>

                <div class="footer-section">
                    <h3>BUSINESS HOURS</h3>
                    <p>í‰ì¼ 09:00 ~ 18:00</p>
                    <p>í† ìš”ì¼ 09:00 ~ 15:00</p>
                    <p>ì ì‹¬ì‹œê°„ 12:00 ~ 13:00</p>
                    <p>ê³µíœ´ì¼ íœ´ë¬´</p>
                </div>

                <div class="copyright">
                    COPYRIGHT Â© 2025 INTECH LIGHTING. ALL RIGHTS RESERVED.<br>
                    COPYRIGHT INFRINGEMENT OF THIS WORK IS STRICTLY PROHIBITED BY THE COPYRIGHT LAW.<br>
                    ë³¸ ì €ì‘ë¬¼ì€ ë¬´ë‹¨ì‚¬ìš© ì‹œ ë²•ì  ì±…ì„ì„ ë¬¼ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>
            </div>
        </footer>
    </div>

    <!-- Firebase ì„¤ì • íŒŒì¼ -->
    <script src="js/firebase-config.js"></script>
    
    <!-- Firebase ì´ˆê¸°í™” ë° ë°ì´í„° ë¡œë“œ -->
    <script>
    // ì „ì—­ products ë°°ì—´
    window.products = [];

    // ì—°ê²° ìƒíƒœ í™•ì¸
    console.log('Firebase ì—°ê²° ì‹œë„ ì¤‘...');

    // Firebaseì—ì„œ ì‹¤ì‹œê°„ ì œí’ˆ ë°ì´í„° ë°›ê¸°
    database.ref('products').on('value', (snapshot) => {
        const data = snapshot.val();
        if (data) {
            // Firebase ë°ì´í„°ë¥¼ ë°°ì—´ë¡œ ë³€í™˜
            window.products = [];
            Object.keys(data).forEach(key => {
                window.products.push({
                    ...data[key],
                    _key: key
                });
            });
            
            console.log('âœ… Firebase ì œí’ˆ ë°ì´í„° ë¡œë“œ:', products.length, 'ê°œ');
            
            // script.jsì˜ createProductCards í•¨ìˆ˜ í˜¸ì¶œ
            if (typeof createProductCards === 'function') {
                createProductCards();
            } else {
                // í´ë°±: ê°„ë‹¨í•œ ì œí’ˆ í‘œì‹œ
                const grid = document.getElementById('productGrid');
                if (products.length === 0) {
                    grid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 100px 20px; color: #999;"><h3 style="font-size: 24px; margin-bottom: 15px;">ë“±ë¡ëœ ì œí’ˆì´ ì—†ìŠµë‹ˆë‹¤</h3></div>';
                    return;
                }
                
                grid.innerHTML = products.map((product, index) => `
                    <div class="product-card" onclick="showDetail(${index})">
                        <div class="product-image">
                            <img src="${product.thumbnail}" alt="${product.name}" 
                                onerror="this.src='img/placeholder.jpg'">
                        </div>
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-specs">${product.specs ? product.specs.replace(/\n/g, '<br>') : ''}</div>
                        </div>
                    </div>
                `).join('');
            }
            
            // í•„í„° ì„¤ì •
            if (typeof setupFilterListeners === 'function') {
                setupFilterListeners();
            } else {
                // ê°„ë‹¨í•œ í•„í„° ì„¤ì •
                document.querySelectorAll('input[type="checkbox"][data-filter]').forEach(checkbox => {
                    checkbox.addEventListener('change', applyFilters);
                });
            }
            
            // ê²€ìƒ‰ ì„¤ì •
            if (typeof setupSearch === 'function') {
                setupSearch();
            }
            
        } else {
            // ë°ì´í„°ê°€ nullì¸ ê²½ìš° (Firebaseì— ì œí’ˆì´ ì—†ìŒ)
            window.products = [];
            document.getElementById('productGrid').innerHTML = 
                '<div style="grid-column: 1 / -1; text-align: center; padding: 100px 20px; color: #999;"><h3 style="font-size: 24px; margin-bottom: 15px;">ë“±ë¡ëœ ì œí’ˆì´ ì—†ìŠµë‹ˆë‹¤</h3><p style="font-size: 16px; color: #aaa;">ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì œí’ˆì„ ì¶”ê°€í•´ì£¼ì„¸ìš”</p></div>';
        }
    }, (error) => {
        console.error('Firebase ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
        document.getElementById('productGrid').innerHTML = 
            '<div style="grid-column: 1 / -1; text-align: center; padding: 100px 20px; color: #f44336;"><h3 style="font-size: 24px; margin-bottom: 15px;">ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨</h3><p>ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”</p></div>';
    });

    // ê°„ë‹¨í•œ í•„í„° ì ìš© í•¨ìˆ˜ (script.jsê°€ ì—†ì„ ê²½ìš° í´ë°±)
    function applyFilters() {
        const activeFilters = {
            watt: [],
            cct: [],
            ip: []
        };
        
        document.querySelectorAll('input[type="checkbox"][data-filter]:checked').forEach(checkbox => {
            const filterType = checkbox.getAttribute('data-filter');
            const filterValue = checkbox.value;
            activeFilters[filterType].push(filterValue);
        });
        
        // ëª¨ë“  í•„í„°ê°€ ë¹„ì–´ìˆìœ¼ë©´ ì „ì²´ ì œí’ˆ í‘œì‹œ
        if (activeFilters.watt.length === 0 && activeFilters.cct.length === 0 && activeFilters.ip.length === 0) {
            if (typeof createProductCards === 'function') {
                createProductCards();
            }
            return;
        }
        
        // í•„í„°ë§ëœ ì œí’ˆ
        const filtered = products.filter(product => {
            const categories = product.categories || {};
            
            const wattMatch = activeFilters.watt.length === 0 || activeFilters.watt.includes(categories.watt);
            const cctMatch = activeFilters.cct.length === 0 || activeFilters.cct.includes(categories.cct);
            const ipMatch = activeFilters.ip.length === 0 || activeFilters.ip.includes(categories.ip);
            
            return wattMatch && cctMatch && ipMatch;
        });
        
        // í•„í„°ë§ëœ ì œí’ˆ í‘œì‹œ
        const grid = document.getElementById('productGrid');
        if (filtered.length === 0) {
            grid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 100px 20px; color: #999;"><h3 style="font-size: 24px; margin-bottom: 15px;">í•´ë‹¹ ì¡°ê±´ì˜ ì œí’ˆì´ ì—†ìŠµë‹ˆë‹¤</h3><p style="font-size: 16px; color: #aaa;">ë‹¤ë¥¸ ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•´ ë³´ì„¸ìš”</p></div>';
            return;
        }
        
        grid.innerHTML = filtered.map((product) => {
            const index = products.indexOf(product);
            return `
                <div class="product-card" onclick="showDetail(${index})">
                    <div class="product-image">
                        <img src="${product.thumbnail}" alt="${product.name}" 
                            onerror="this.src='img/placeholder.jpg'">
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-specs">${product.specs ? product.specs.replace(/\n/g, '<br>') : ''}</div>
                    </div>
                </div>
            `;
        }).join('');
    }

    // Firebase ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§ (ì„ íƒì‚¬í•­)
    database.ref('.info/connected').on('value', function(snapshot) {
        if (snapshot.val() === true) {
            console.log('âœ… Firebase ì‹¤ì‹œê°„ ì—°ê²° í™œì„±í™”');
        } else {
            console.log('âš ï¸ Firebase ì—°ê²° ëŠê¹€ - ì¬ì—°ê²° ì‹œë„ ì¤‘...');
        }
    });
    </script>
    
    <!-- ê¸°ì¡´ script.js (ìƒì„¸í˜ì´ì§€ ê¸°ëŠ¥ ë“±) -->
    <script src="js/script.js"></script>
</body>
</html>